<p>If you want to <strong>merge a new <code class="language-plaintext highlighter-rouge">kubeconfig</code></strong> into your <strong>existing</strong> one, right?</p>

<p>Hereâ€™s the clean way:</p>

<hr />

<p>âœ… If you just have a new <code class="language-plaintext highlighter-rouge">kubeconfig.yaml</code> file and you want to <strong>add it</strong> to your current setup:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>KUBECONFIG=~/.kube/config:/path/to/new/kubeconfig.yaml kubectl config view --flatten &gt; /tmp/config &amp;&amp; mv /tmp/config ~/.kube/config
</code></pre></div></div>

<p><strong>Whatâ€™s happening here:</strong></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">KUBECONFIG=a:b</code> â†’ temporarily tell <code class="language-plaintext highlighter-rouge">kubectl</code> to load both configs (<code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">b</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">kubectl config view --flatten</code> â†’ merges them <strong>properly</strong> into one clean config.</li>
  <li>Save that result over your current <code class="language-plaintext highlighter-rouge">~/.kube/config</code>.</li>
</ul>

<hr />

<p>âœ… Alternative <strong>(using <code class="language-plaintext highlighter-rouge">kubectl config</code> command)</strong> if you just want to <strong>manually add a new cluster, user, and context</strong>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl config set-cluster &lt;cluster-name&gt; --server=&lt;server-url&gt; --certificate-authority=&lt;path-to-ca-cert&gt;
kubectl config set-credentials &lt;user-name&gt; --token=&lt;token&gt;
kubectl config set-context &lt;context-name&gt; --cluster=&lt;cluster-name&gt; --user=&lt;user-name&gt;
kubectl config use-context &lt;context-name&gt;
</code></pre></div></div>

<p>(But the first way is easier if you already have a ready kubeconfig file.)</p>

<hr />

<p><strong>Quick Tip:</strong><br />
If you work with multiple clusters a lot, tools like <a href="https://github.com/ahmetb/kubectx"><code class="language-plaintext highlighter-rouge">kubectx</code></a> make switching between them super easy ðŸš€.</p>

<hr />
