To use a custom domain with two personalized iCloud email addresses, you'll need an active iCloud+ subscription. You can purchase a custom domain through iCloud or use one you already own. You'll then add the domain to your iCloud Mail dashboard and update the DNS records in Cloudflare with the records provided by Apple. You can then create up to three personalized email addresses per domain. 

Steps to set up two personalized email addresses with iCloud and Cloudflare:

1. Subscribe to iCloud+:
You'll need an active iCloud+ subscription to use custom email domains. 

2. Add the domain to iCloud Mail:
Go to icloud.com/icloudplus and sign in to your Apple account. 
Click "Custom Email Domain" in the toolbar. 
Follow the on-screen instructions to add your domain. 

3. Configure DNS records in Cloudflare:
Log in to your Cloudflare account and navigate to your domain's DNS settings. 
Add the necessary DNS records provided by Apple during the setup process in iCloud Mail. 
Ensure the MX records point to Apple's mail servers (e.g., mx01.mail.icloud.com, mx02.mail.icloud.com). 
It's also recommended to have your domain's webmail DNS set to "DNS only" (no proxy) for proper functionality, according to a Reddit thread. 

4. Create personalized email addresses:
After adding your domain and configuring the DNS records, you can create up to three personalized email addresses (e.g., yourname@yourdomain.com). 
You can do this through the iCloud Mail dashboard. 

5. Set up in Mail app on your devices:
On your iPhone, iPad, or Mac, go to Settings > [your name] > iCloud. 
Tap "Custom Email Domain" and follow the on-screen instructions to add your personalized email addresses. 
You can then use these email addresses in the Mail app on any device signed in to your Apple account and with iCloud Mail turned on.
